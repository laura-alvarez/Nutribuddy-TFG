
@using NutriBuddy.Resources;
@using System;
@using NutriBuddy.Models;
@{
    var localizaciones = ViewData["localizaciones"] as Dictionary<string, List<ProvinciaBasica>>;  
    var trabajador = ViewData["trabajador"] as NutriBuddy.Models.Propios.TrabajadorCForm;
}
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2/js/select2.min.js"></script>

<script src="~/Scripts/nutribuddy/TrabajadorNB.js"></script>

<div class="formBlock">
    <div>
        <label>@trabajadores.form_Name*:</label>
        <input id="NombreTNB" type="text" value="@(trabajador != null?trabajador.Nombre:"")" />
    </div>
    <div>
        <label>@trabajadores.form_Surname*:</label>
        <input id="ApellidosTNB" type="text" value="@(trabajador != null?trabajador.Apellidos:"")" />
    </div>
</div>
<div class="formBlock">
    <div>
        <label>@trabajadores.form_SS*:</label>
        <input id="SSR" type="text" value="@(trabajador != null?trabajador.SS:"")" />
    </div>
</div>
<div class="formBlock">
    <div>
        <label>@trabajadores.form_State</label>
        <select id="ProvinciaTNB">
            <option value="-1">--</option>
            @{
                foreach (KeyValuePair<string, List<ProvinciaBasica>> loc in localizaciones)
                {
                    <optgroup label="@loc.Key">
                        @{
                            foreach (ProvinciaBasica prov in loc.Value)
                            {
                                <option value="@prov.ID" @(trabajador != null && trabajador.IDProvincia == prov.ID ? "selected" : "")>@prov.Nombre</option>
                            }
                        }
                    </optgroup>
                }
            }
        </select>
    </div>
    <div>
        <label>@trabajadores.form_Email*:</label>
        <input id="EmailTNB" type="text" value="@(trabajador != null?trabajador.Email:"")" />
    </div>
</div>